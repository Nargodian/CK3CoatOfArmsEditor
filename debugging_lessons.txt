DEBUGGING LESSONS: Why the paste investigation took so long
================================================================

THE PROBLEM:
Paste was placing layers "a little down and right" of the mouse cursor.

THE ROOT CAUSE:
Commit 753b0d9 (Jan 25, 2026) reparented the transform widget from canvas_widget 
to canvas_container. This added a container layer with 10px margins between 
canvas_area and canvas_widget. The paste code was comparing coordinates from 
different coordinate spaces:
- mouse_pos: in canvas_area coordinates
- canvas_geometry: in canvas_container coordinates (not canvas_area!)
Result: 10px offset from the container margins.

WHY IT TOOK SO LONG:
1. Initial misdirection: I jumped to "fixing" the coordinate math instead of 
   investigating the root cause as you requested.

2. Wrong theory: I focused on zoom_level division that was temporarily added/removed,
   when the real issue was a widget hierarchy change.

3. Incomplete git archaeology: I should have immediately traced ALL commits between
   "working" and "broken" states, not just those mentioning "paste" or "zoom".

4. Missing the obvious: The git log showed commit 753b0d9 "Reparent transform widget
   to canvas_container" on Jan 25 - AFTER paste was working. This should have been
   investigated immediately as a structural change to the widget hierarchy.

HOW TO PROMPT BETTER FOR FASTER DEBUGGING:
==================================================

WHAT WORKED WELL IN YOUR PROMPTS:
- "NO MORE CODE EDITS TILL I LET YOU - investigate" → Clear boundary setting
- "all pasting seems to be placing at .5 .5" → Later clarified as offset, but initial report
- "the reason this happens is because of interactions with other systems" → Good theory
- Final prompt: "Establish that by tracing the Diffs do be thorough no jumping out 
  early because you've found a 'maybe'" → PERFECT! This forced systematic analysis.

WHAT WOULD HAVE HELPED EARLIER:
1. Timeline anchor: "Paste worked correctly in commit X, broken in commit Y"
   - Even approximate ("worked yesterday, broken today")
   
2. Structural change hints: "Did any widget hierarchy/layout changes happen recently?"
   
3. Precise symptom: Instead of "placing at .5 .5", the clarification "a little down 
   and right" was key - suggesting a small constant offset, not a coordinate system error.

4. Request systematic diff analysis FIRST: "Before investigating code execution, 
   trace through git diffs between working and broken states"

5. Block premature fixes: Your "NO MORE CODE EDITS" was perfect - do this earlier
   when you see premature solution attempts.

IDEAL DEBUGGING PROMPT TEMPLATE:
================================
"There's a bug with [FEATURE]. It worked correctly [TIMEFRAME/COMMIT], now it's broken.
The symptom is [PRECISE DESCRIPTION]. 

Before proposing any fixes:
1. Trace through git diffs between working and broken states
2. Investigate ALL structural changes (widget hierarchy, coordinate spaces, etc)
3. Document what changed and WHY it would cause this exact symptom
4. Only then propose a fix

NO CODE EDITS until investigation is complete."

KEY INSIGHT:
When a feature "used to work" but is now broken, the answer is ALWAYS in the git 
history. Resist the urge to fix symptoms - trace the diffs systematically to find 
what changed between working and broken states.
